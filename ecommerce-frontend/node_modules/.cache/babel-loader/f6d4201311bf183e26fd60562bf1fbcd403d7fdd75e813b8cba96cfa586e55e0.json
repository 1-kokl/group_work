{"ast":null,"code":"import { createVNode as _createVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nconst _hoisted_1 = {\n  class: \"sidebar-content\"\n};\nconst _hoisted_2 = {\n  class: \"sidebar-brand\"\n};\nconst _hoisted_3 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  return _openBlock(), _createElementBlock(\"aside\", {\n    class: _normalizeClass(['app-sidebar', {\n      'is-expanded': $setup.isExpanded\n    }]),\n    onMouseenter: _cache[0] || (_cache[0] = $event => $setup.setHover(true)),\n    onMouseleave: _cache[1] || (_cache[1] = $event => $setup.setHover(false))\n  }, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_icon, null, {\n    default: _withCtx(() => [_createVNode($setup[\"Grid\"])]),\n    _: 1 /* STABLE */\n  }), $setup.isExpanded ? (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"管理菜单\")) : _createCommentVNode(\"v-if\", true)]), _createVNode(_component_el_menu, {\n    \"default-active\": $setup.activeRoute,\n    class: \"sidebar-menu\",\n    \"background-color\": \"transparent\",\n    \"text-color\": \"#6b7280\",\n    \"active-text-color\": \"#2563eb\"\n  }, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.visibleMenus, item => {\n      return _openBlock(), _createBlock(_component_el_menu_item, {\n        key: item.name,\n        index: item.name,\n        onClick: () => $setup.navigate(item)\n      }, {\n        default: _withCtx(() => [item.icon ? (_openBlock(), _createBlock(_component_el_icon, {\n          key: 0\n        }, {\n          default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(item.icon)))]),\n          _: 2 /* DYNAMIC */\n        }, 1024 /* DYNAMIC_SLOTS */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"span\", null, _toDisplayString(item.label), 1 /* TEXT */)]),\n        _: 2 /* DYNAMIC */\n      }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\", \"onClick\"]);\n    }), 128 /* KEYED_FRAGMENT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"default-active\"])])], 34 /* CLASS, NEED_HYDRATION */);\n}","map":{"version":3,"names":["class","_createElementBlock","_normalizeClass","$setup","isExpanded","onMouseenter","_cache","$event","setHover","onMouseleave","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_el_icon","_hoisted_3","_component_el_menu","activeRoute","_Fragment","_renderList","visibleMenus","item","_createBlock","_component_el_menu_item","key","name","index","onClick","navigate","icon","_resolveDynamicComponent","_toDisplayString","label"],"sources":["C:\\Users\\Administrator\\Desktop\\zonshe\\ecommerce-frontend\\src\\components\\layout\\AppSidebar.vue"],"sourcesContent":["<template>\n  <aside\n    :class=\"['app-sidebar', { 'is-expanded': isExpanded }]\"\n    @mouseenter=\"setHover(true)\"\n    @mouseleave=\"setHover(false)\"\n  >\n    <div class=\"sidebar-content\">\n      <div class=\"sidebar-brand\">\n      <el-icon><Grid /></el-icon>\n      <span v-if=\"isExpanded\">管理菜单</span>\n    </div>\n\n    <el-menu\n      :default-active=\"activeRoute\"\n      class=\"sidebar-menu\"\n      background-color=\"transparent\"\n      text-color=\"#6b7280\"\n      active-text-color=\"#2563eb\"\n    >\n      <el-menu-item\n        v-for=\"item in visibleMenus\"\n        :key=\"item.name\"\n        :index=\"item.name\"\n        @click=\"() => navigate(item)\"\n      >\n        <el-icon v-if=\"item.icon\"><component :is=\"item.icon\" /></el-icon>\n        <span>{{ item.label }}</span>\n      </el-menu-item>\n    </el-menu>\n    </div>\n  </aside>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { Grid, Histogram, User, Menu as MenuIcon } from '@element-plus/icons-vue';\n\nconst router = useRouter();\nconst route = useRoute();\nconst store = useStore();\nconst hover = ref(false);\nconst isExpanded = computed(() => hover.value);\n\nfunction setHover(value) {\n  hover.value = value;\n}\n\nconst navMenus = [\n  {\n    name: 'Dashboard',\n    label: '仪表盘总览',\n    icon: Histogram,\n    roles: ['admin', 'operator', 'merchant']\n  },\n  {\n    name: 'Profile',\n    label: '个人中心',\n    icon: User\n  },\n  {\n    name: 'Navigation',\n    label: '系统导航',\n    icon: MenuIcon\n  }\n];\n\nconst userRoles = computed(() => store.getters['auth/currentUser']?.roles || []);\n\nconst visibleMenus = computed(() =>\n  navMenus.filter((item) => {\n    if (!item.roles?.length) return true;\n    return item.roles.some((role) => userRoles.value.includes(role));\n  })\n);\n\nconst activeRoute = computed(() => route.name);\n\nfunction navigate(item) {\n  router.push({ name: item.name }).catch(() => {});\n}\n</script>\n\n<style scoped>\n.app-sidebar {\n  position: fixed;\n  top: 70px;\n  left: 0;\n  height: calc(100vh - 70px);\n  width: 12px;\n  z-index: 900;\n  pointer-events: auto;\n}\n\n.app-sidebar::before {\n  content: '';\n  width: 12px;\n  background: linear-gradient(180deg, rgba(79, 70, 229, 0.9), rgba(59, 130, 246, 0.95));\n  border-radius: 0 6px 6px 0;\n  box-shadow: 4px 0 14px rgba(59, 130, 246, 0.35);\n  cursor: pointer;\n}\n\n.sidebar-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: calc(100vh - 70px);\n  width: 240px;\n  background: rgba(15, 23, 42, 0.94);\n  backdrop-filter: blur(10px);\n  border-right: 1px solid rgba(255, 255, 255, 0.08);\n  padding: 18px 14px;\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  transform: translateX(-105%);\n  transition: transform 0.3s ease;\n  box-shadow: 12px 0 30px rgba(15, 23, 42, 0.45);\n  pointer-events: auto;\n}\n\n.app-sidebar.is-expanded .sidebar-content {\n  transform: translateX(0);\n}\n\n.sidebar-brand {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-weight: 600;\n  color: #fff;\n  padding: 0 8px;\n}\n\n.sidebar-menu {\n  border-right: none;\n}\n\n.sidebar-menu :deep(.el-menu-item) {\n  border-radius: 10px;\n  margin-bottom: 8px;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.sidebar-menu :deep(.el-menu-item.is-active) {\n  background: rgba(255, 255, 255, 0.18);\n  font-weight: 600;\n  color: #fff;\n}\n\n.app-sidebar::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n  border-radius: 0 20px 20px 0;\n  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.05);\n}\n\n@media (max-width: 1024px) {\n  .app-sidebar {\n    display: none;\n  }\n}\n</style>\n\n"],"mappings":";;EAMSA,KAAK,EAAC;AAAiB;;EACrBA,KAAK,EAAC;AAAe;;;;;;;;uBAN9BC,mBAAA,CA6BQ;IA5BLD,KAAK,EAAAE,eAAA;MAAA,eAAmCC,MAAA,CAAAC;IAAU;IAClDC,YAAU,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,MAAA,CAAAK,QAAQ;IACpBC,YAAU,EAAAH,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEJ,MAAA,CAAAK,QAAQ;MAErBE,mBAAA,CAuBM,OAvBNC,UAuBM,GAtBJD,mBAAA,CAGI,OAHJE,UAGI,GAFJC,YAAA,CAA2BC,kBAAA;sBAAlB,MAAQ,CAARD,YAAA,CAAQV,MAAA,U;;MACLA,MAAA,CAAAC,UAAU,I,cAAtBH,mBAAA,CAAmC,QAAAc,UAAA,EAAX,MAAI,K,qCAG9BF,YAAA,CAgBUG,kBAAA;IAfP,gBAAc,EAAEb,MAAA,CAAAc,WAAW;IAC5BjB,KAAK,EAAC,cAAc;IACpB,kBAAgB,EAAC,aAAa;IAC9B,YAAU,EAAC,SAAS;IACpB,mBAAiB,EAAC;;sBAGhB,MAA4B,E,kBAD9BC,mBAAA,CAQeiB,SAAA,QAAAC,WAAA,CAPEhB,MAAA,CAAAiB,YAAY,EAApBC,IAAI;2BADbC,YAAA,CAQeC,uBAAA;QANZC,GAAG,EAAEH,IAAI,CAACI,IAAI;QACdC,KAAK,EAAEL,IAAI,CAACI,IAAI;QAChBE,OAAK,EAAAA,CAAA,KAAQxB,MAAA,CAAAyB,QAAQ,CAACP,IAAI;;0BAED,MAGvB,CAHYA,IAAI,CAACQ,IAAI,I,cAAxBP,YAAA,CAAiER,kBAAA;UAAAU,GAAA;QAAA;4BAAvC,MAA6B,E,cAA7BF,YAAA,CAA6BQ,wBAAA,CAAbT,IAAI,CAACQ,IAAI,I;;2EACnDnB,mBAAA,CAA6B,cAAAqB,gBAAA,CAApBV,IAAI,CAACW,KAAK,iB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}