{"ast":null,"code":"import { rest } from 'msw';\nconst API_BASE = process.env.VUE_APP_API_BASE_URL || 'http://localhost:5000';\nexport const handlers = [rest.post(`${API_BASE}/api/v1/user/login`, async (req, res, ctx) => {\n  const {\n    identifier,\n    password\n  } = await req.json();\n  if (identifier === 'locked@example.com') {\n    return res(ctx.status(403), ctx.json({\n      code: 'AUTH_LOCKED',\n      message: '账户已被锁定'\n    }));\n  }\n  if (password !== 'correct-password') {\n    return res(ctx.status(401), ctx.json({\n      code: 'AUTH_INVALID',\n      message: '用户名或密码错误'\n    }));\n  }\n  return res(ctx.status(200), ctx.cookie('csrf_token', 'mock-csrf-token', {\n    path: '/'\n  }), ctx.json({\n    token: 'mock-jwt',\n    refreshToken: 'mock-refresh',\n    expiresIn: 3600,\n    csrfToken: 'mock-csrf-token',\n    user: {\n      id: 'u_001',\n      username: 'demo',\n      roles: ['admin']\n    }\n  }));\n}), rest.get(`${API_BASE}/api/v1/user/info`, (_req, res, ctx) => res(ctx.status(200), ctx.json({\n  id: 'u_001',\n  username: 'demo',\n  email: 'demo@example.com',\n  phone: '13800000000',\n  roles: ['admin'],\n  createdAt: '2024-01-01T00:00:00.000Z'\n})))];","map":{"version":3,"names":["rest","API_BASE","process","env","VUE_APP_API_BASE_URL","handlers","post","req","res","ctx","identifier","password","json","status","code","message","cookie","path","token","refreshToken","expiresIn","csrfToken","user","id","username","roles","get","_req","email","phone","createdAt"],"sources":["C:/Users/Administrator/Desktop/zonshe/ecommerce-frontend/src/mocks/handlers.js"],"sourcesContent":["import { rest } from 'msw';\r\n\r\nconst API_BASE = process.env.VUE_APP_API_BASE_URL || 'http://localhost:5000';\r\n\r\nexport const handlers = [\r\n  rest.post(`${API_BASE}/api/v1/user/login`, async (req, res, ctx) => {\r\n    const { identifier, password } = await req.json();\r\n\r\n    if (identifier === 'locked@example.com') {\r\n      return res(\r\n        ctx.status(403),\r\n        ctx.json({\r\n          code: 'AUTH_LOCKED',\r\n          message: '账户已被锁定'\r\n        })\r\n      );\r\n    }\r\n\r\n    if (password !== 'correct-password') {\r\n      return res(\r\n        ctx.status(401),\r\n        ctx.json({\r\n          code: 'AUTH_INVALID',\r\n          message: '用户名或密码错误'\r\n        })\r\n      );\r\n    }\r\n\r\n    return res(\r\n      ctx.status(200),\r\n      ctx.cookie('csrf_token', 'mock-csrf-token', { path: '/' }),\r\n      ctx.json({\r\n        token: 'mock-jwt',\r\n        refreshToken: 'mock-refresh',\r\n        expiresIn: 3600,\r\n        csrfToken: 'mock-csrf-token',\r\n        user: {\r\n          id: 'u_001',\r\n          username: 'demo',\r\n          roles: ['admin']\r\n        }\r\n      })\r\n    );\r\n  }),\r\n\r\n  rest.get(`${API_BASE}/api/v1/user/info`, (_req, res, ctx) =>\r\n    res(\r\n      ctx.status(200),\r\n      ctx.json({\r\n        id: 'u_001',\r\n        username: 'demo',\r\n        email: 'demo@example.com',\r\n        phone: '13800000000',\r\n        roles: ['admin'],\r\n        createdAt: '2024-01-01T00:00:00.000Z'\r\n      })\r\n    )\r\n  )\r\n];\r\n\r\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,KAAK;AAE1B,MAAMC,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,oBAAoB,IAAI,uBAAuB;AAE5E,OAAO,MAAMC,QAAQ,GAAG,CACtBL,IAAI,CAACM,IAAI,CAAC,GAAGL,QAAQ,oBAAoB,EAAE,OAAOM,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAK;EAClE,MAAM;IAAEC,UAAU;IAAEC;EAAS,CAAC,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,CAAC;EAEjD,IAAIF,UAAU,KAAK,oBAAoB,EAAE;IACvC,OAAOF,GAAG,CACRC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,EACfJ,GAAG,CAACG,IAAI,CAAC;MACPE,IAAI,EAAE,aAAa;MACnBC,OAAO,EAAE;IACX,CAAC,CACH,CAAC;EACH;EAEA,IAAIJ,QAAQ,KAAK,kBAAkB,EAAE;IACnC,OAAOH,GAAG,CACRC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,EACfJ,GAAG,CAACG,IAAI,CAAC;MACPE,IAAI,EAAE,cAAc;MACpBC,OAAO,EAAE;IACX,CAAC,CACH,CAAC;EACH;EAEA,OAAOP,GAAG,CACRC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,EACfJ,GAAG,CAACO,MAAM,CAAC,YAAY,EAAE,iBAAiB,EAAE;IAAEC,IAAI,EAAE;EAAI,CAAC,CAAC,EAC1DR,GAAG,CAACG,IAAI,CAAC;IACPM,KAAK,EAAE,UAAU;IACjBC,YAAY,EAAE,cAAc;IAC5BC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,iBAAiB;IAC5BC,IAAI,EAAE;MACJC,EAAE,EAAE,OAAO;MACXC,QAAQ,EAAE,MAAM;MAChBC,KAAK,EAAE,CAAC,OAAO;IACjB;EACF,CAAC,CACH,CAAC;AACH,CAAC,CAAC,EAEFzB,IAAI,CAAC0B,GAAG,CAAC,GAAGzB,QAAQ,mBAAmB,EAAE,CAAC0B,IAAI,EAAEnB,GAAG,EAAEC,GAAG,KACtDD,GAAG,CACDC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,EACfJ,GAAG,CAACG,IAAI,CAAC;EACPW,EAAE,EAAE,OAAO;EACXC,QAAQ,EAAE,MAAM;EAChBI,KAAK,EAAE,kBAAkB;EACzBC,KAAK,EAAE,aAAa;EACpBJ,KAAK,EAAE,CAAC,OAAO,CAAC;EAChBK,SAAS,EAAE;AACb,CAAC,CACH,CACF,CAAC,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}