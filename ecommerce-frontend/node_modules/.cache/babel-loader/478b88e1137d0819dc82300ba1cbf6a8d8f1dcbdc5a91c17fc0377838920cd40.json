{"ast":null,"code":"import authAPI from '../../services/api/authAPI';\nconst TOKEN_STORAGE_KEY = 'auth.token';\nconst REFRESH_STORAGE_KEY = 'auth.refreshToken';\nconst EXPIRES_STORAGE_KEY = 'auth.expiresAt';\nconst USER_STORAGE_KEY = 'auth.user';\nconst REMEMBER_STORAGE_KEY = 'auth.remember';\nfunction readJson(key) {\n  try {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : null;\n  } catch (error) {\n    console.warn(`[auth] 读取 ${key} 失败:`, error);\n    return null;\n  }\n}\nfunction writeJson(key, value) {\n  try {\n    if (value === null || value === undefined) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, JSON.stringify(value));\n    }\n  } catch (error) {\n    console.warn(`[auth] 写入 ${key} 失败:`, error);\n  }\n}\nfunction writeTokens(state) {\n  try {\n    if (state.token) {\n      localStorage.setItem(TOKEN_STORAGE_KEY, state.token);\n    } else {\n      localStorage.removeItem(TOKEN_STORAGE_KEY);\n    }\n    if (state.refreshToken) {\n      localStorage.setItem(REFRESH_STORAGE_KEY, state.refreshToken);\n    } else {\n      localStorage.removeItem(REFRESH_STORAGE_KEY);\n    }\n    if (state.expiresAt) {\n      localStorage.setItem(EXPIRES_STORAGE_KEY, String(state.expiresAt));\n    } else {\n      localStorage.removeItem(EXPIRES_STORAGE_KEY);\n    }\n  } catch (error) {\n    console.warn('[auth] 存储令牌信息失败:', error);\n  }\n}\nfunction clearStorage() {\n  localStorage.removeItem(TOKEN_STORAGE_KEY);\n  localStorage.removeItem(REFRESH_STORAGE_KEY);\n  localStorage.removeItem(EXPIRES_STORAGE_KEY);\n  localStorage.removeItem(USER_STORAGE_KEY);\n}\nconst state = () => ({\n  token: localStorage.getItem(TOKEN_STORAGE_KEY) || '',\n  refreshToken: localStorage.getItem(REFRESH_STORAGE_KEY) || '',\n  expiresAt: Number(localStorage.getItem(EXPIRES_STORAGE_KEY)) || 0,\n  user: readJson(USER_STORAGE_KEY),\n  status: 'idle',\n  loading: false,\n  error: null\n});\nconst getters = {\n  isAuthenticated: state => Boolean(state.token),\n  authToken: state => state.token,\n  refreshToken: state => state.refreshToken,\n  currentUser: state => state.user,\n  authStatus: state => state.status,\n  authLoading: state => state.loading,\n  authError: state => state.error,\n  isTokenExpired: state => state.expiresAt ? Date.now() > Number(state.expiresAt) : true\n};\nconst mutations = {\n  SET_TOKENS(state, {\n    token,\n    refreshToken,\n    expiresAt\n  }) {\n    state.token = token || '';\n    state.refreshToken = refreshToken || '';\n    state.expiresAt = expiresAt || 0;\n    writeTokens(state);\n  },\n  SET_USER(state, user) {\n    state.user = user || null;\n    writeJson(USER_STORAGE_KEY, state.user);\n  },\n  SET_STATUS(state, status) {\n    state.status = status || 'idle';\n  },\n  SET_LOADING(state, value) {\n    state.loading = value;\n  },\n  SET_ERROR(state, error) {\n    state.error = error || null;\n  },\n  RESET_AUTH(state) {\n    state.token = '';\n    state.refreshToken = '';\n    state.expiresAt = 0;\n    state.user = null;\n    state.status = 'idle';\n    state.loading = false;\n    state.error = null;\n    clearStorage();\n  }\n};\nconst actions = {\n  async initialize({\n    dispatch,\n    getters\n  }) {\n    if (getters.isAuthenticated && getters.isTokenExpired) {\n      try {\n        await dispatch('refreshToken');\n      } catch (error) {\n        await dispatch('forceLogout');\n        throw error;\n      }\n    }\n  },\n  async login({\n    commit,\n    dispatch\n  }, {\n    remember = false,\n    ...credentials\n  }) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    commit('SET_STATUS', 'authenticating');\n    try {\n      const {\n        token,\n        refreshToken,\n        expiresAt,\n        user\n      } = await authAPI.login(credentials);\n      commit('SET_TOKENS', {\n        token,\n        refreshToken,\n        expiresAt\n      });\n      commit('SET_USER', user);\n      commit('SET_STATUS', 'authenticated');\n      dispatch('user/setProfile', user, {\n        root: true\n      });\n      if (remember) {\n        writeJson(REMEMBER_STORAGE_KEY, {\n          identifier: credentials.identifier\n        });\n      } else {\n        localStorage.removeItem(REMEMBER_STORAGE_KEY);\n      }\n      return user;\n    } catch (error) {\n      commit('SET_STATUS', 'error');\n      commit('SET_ERROR', error);\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  async register({\n    commit,\n    dispatch\n  }, payload) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    commit('SET_STATUS', 'authenticating');\n    try {\n      const {\n        token,\n        refreshToken,\n        expiresAt,\n        user\n      } = await authAPI.register(payload);\n      commit('SET_TOKENS', {\n        token,\n        refreshToken,\n        expiresAt\n      });\n      commit('SET_USER', user);\n      commit('SET_STATUS', 'authenticated');\n      dispatch('user/setProfile', user, {\n        root: true\n      });\n      return user;\n    } catch (error) {\n      commit('SET_STATUS', 'error');\n      commit('SET_ERROR', error);\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n  async refreshToken({\n    commit,\n    getters\n  }) {\n    const refreshToken = getters.refreshToken || localStorage.getItem(REFRESH_STORAGE_KEY);\n    if (!refreshToken) {\n      throw new Error('缺少刷新令牌');\n    }\n    try {\n      const {\n        token,\n        refreshToken: newRefreshToken,\n        expiresAt\n      } = await authAPI.refreshToken(refreshToken);\n      commit('SET_TOKENS', {\n        token,\n        refreshToken: newRefreshToken,\n        expiresAt\n      });\n      commit('SET_STATUS', 'authenticated');\n      return token;\n    } catch (error) {\n      commit('SET_STATUS', 'error');\n      commit('SET_ERROR', error);\n      throw error;\n    }\n  },\n  async logout({\n    commit,\n    dispatch\n  }) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    try {\n      await authAPI.logout();\n    } catch (error) {\n      console.warn('[auth] 退出登录接口调用失败:', error);\n    } finally {\n      commit('RESET_AUTH');\n      dispatch('user/clearProfile', null, {\n        root: true\n      });\n      commit('SET_LOADING', false);\n    }\n  },\n  async forceLogout({\n    commit,\n    dispatch\n  }) {\n    commit('RESET_AUTH');\n    dispatch('user/clearProfile', null, {\n      root: true\n    });\n  },\n  updateUser({\n    commit\n  }, user) {\n    commit('SET_USER', user);\n  },\n  syncTokens({\n    commit\n  }, payload) {\n    if (!payload) {\n      commit('RESET_AUTH');\n      return;\n    }\n    commit('SET_TOKENS', payload);\n  }\n};\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};","map":{"version":3,"names":["authAPI","TOKEN_STORAGE_KEY","REFRESH_STORAGE_KEY","EXPIRES_STORAGE_KEY","USER_STORAGE_KEY","REMEMBER_STORAGE_KEY","readJson","key","raw","localStorage","getItem","JSON","parse","error","console","warn","writeJson","value","undefined","removeItem","setItem","stringify","writeTokens","state","token","refreshToken","expiresAt","String","clearStorage","Number","user","status","loading","getters","isAuthenticated","Boolean","authToken","currentUser","authStatus","authLoading","authError","isTokenExpired","Date","now","mutations","SET_TOKENS","SET_USER","SET_STATUS","SET_LOADING","SET_ERROR","RESET_AUTH","actions","initialize","dispatch","login","commit","remember","credentials","root","identifier","register","payload","Error","newRefreshToken","logout","forceLogout","updateUser","syncTokens","namespaced"],"sources":["C:/Users/Administrator/Desktop/zonshe/ecommerce-frontend/src/store/modules/auth.js"],"sourcesContent":["import authAPI from '../../services/api/authAPI';\n\nconst TOKEN_STORAGE_KEY = 'auth.token';\nconst REFRESH_STORAGE_KEY = 'auth.refreshToken';\nconst EXPIRES_STORAGE_KEY = 'auth.expiresAt';\nconst USER_STORAGE_KEY = 'auth.user';\nconst REMEMBER_STORAGE_KEY = 'auth.remember';\n\nfunction readJson(key) {\n  try {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : null;\n  } catch (error) {\n    console.warn(`[auth] 读取 ${key} 失败:`, error);\n    return null;\n  }\n}\n\nfunction writeJson(key, value) {\n  try {\n    if (value === null || value === undefined) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, JSON.stringify(value));\n    }\n  } catch (error) {\n    console.warn(`[auth] 写入 ${key} 失败:`, error);\n  }\n}\n\nfunction writeTokens(state) {\n  try {\n    if (state.token) {\n      localStorage.setItem(TOKEN_STORAGE_KEY, state.token);\n    } else {\n      localStorage.removeItem(TOKEN_STORAGE_KEY);\n    }\n\n    if (state.refreshToken) {\n      localStorage.setItem(REFRESH_STORAGE_KEY, state.refreshToken);\n    } else {\n      localStorage.removeItem(REFRESH_STORAGE_KEY);\n    }\n\n    if (state.expiresAt) {\n      localStorage.setItem(EXPIRES_STORAGE_KEY, String(state.expiresAt));\n    } else {\n      localStorage.removeItem(EXPIRES_STORAGE_KEY);\n    }\n  } catch (error) {\n    console.warn('[auth] 存储令牌信息失败:', error);\n  }\n}\n\nfunction clearStorage() {\n  localStorage.removeItem(TOKEN_STORAGE_KEY);\n  localStorage.removeItem(REFRESH_STORAGE_KEY);\n  localStorage.removeItem(EXPIRES_STORAGE_KEY);\n  localStorage.removeItem(USER_STORAGE_KEY);\n}\n\nconst state = () => ({\n  token: localStorage.getItem(TOKEN_STORAGE_KEY) || '',\n  refreshToken: localStorage.getItem(REFRESH_STORAGE_KEY) || '',\n  expiresAt: Number(localStorage.getItem(EXPIRES_STORAGE_KEY)) || 0,\n  user: readJson(USER_STORAGE_KEY),\n  status: 'idle',\n  loading: false,\n  error: null\n});\n\nconst getters = {\n  isAuthenticated: (state) => Boolean(state.token),\n  authToken: (state) => state.token,\n  refreshToken: (state) => state.refreshToken,\n  currentUser: (state) => state.user,\n  authStatus: (state) => state.status,\n  authLoading: (state) => state.loading,\n  authError: (state) => state.error,\n  isTokenExpired: (state) =>\n    state.expiresAt ? Date.now() > Number(state.expiresAt) : true\n};\n\nconst mutations = {\n  SET_TOKENS(state, { token, refreshToken, expiresAt }) {\n    state.token = token || '';\n    state.refreshToken = refreshToken || '';\n    state.expiresAt = expiresAt || 0;\n    writeTokens(state);\n  },\n  SET_USER(state, user) {\n    state.user = user || null;\n    writeJson(USER_STORAGE_KEY, state.user);\n  },\n  SET_STATUS(state, status) {\n    state.status = status || 'idle';\n  },\n  SET_LOADING(state, value) {\n    state.loading = value;\n  },\n  SET_ERROR(state, error) {\n    state.error = error || null;\n  },\n  RESET_AUTH(state) {\n    state.token = '';\n    state.refreshToken = '';\n    state.expiresAt = 0;\n    state.user = null;\n    state.status = 'idle';\n    state.loading = false;\n    state.error = null;\n    clearStorage();\n  }\n};\n\nconst actions = {\n  async initialize({ dispatch, getters }) {\n    if (getters.isAuthenticated && getters.isTokenExpired) {\n      try {\n        await dispatch('refreshToken');\n      } catch (error) {\n        await dispatch('forceLogout');\n        throw error;\n      }\n    }\n  },\n\n  async login({ commit, dispatch }, { remember = false, ...credentials }) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    commit('SET_STATUS', 'authenticating');\n\n    try {\n      const { token, refreshToken, expiresAt, user } = await authAPI.login(\n        credentials\n      );\n      commit('SET_TOKENS', { token, refreshToken, expiresAt });\n      commit('SET_USER', user);\n      commit('SET_STATUS', 'authenticated');\n      dispatch('user/setProfile', user, { root: true });\n\n      if (remember) {\n        writeJson(REMEMBER_STORAGE_KEY, {\n          identifier: credentials.identifier\n        });\n      } else {\n        localStorage.removeItem(REMEMBER_STORAGE_KEY);\n      }\n\n      return user;\n    } catch (error) {\n      commit('SET_STATUS', 'error');\n      commit('SET_ERROR', error);\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n\n  async register({ commit, dispatch }, payload) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    commit('SET_STATUS', 'authenticating');\n\n    try {\n      const { token, refreshToken, expiresAt, user } = await authAPI.register(\n        payload\n      );\n      commit('SET_TOKENS', { token, refreshToken, expiresAt });\n      commit('SET_USER', user);\n      commit('SET_STATUS', 'authenticated');\n      dispatch('user/setProfile', user, { root: true });\n      return user;\n    } catch (error) {\n      commit('SET_STATUS', 'error');\n      commit('SET_ERROR', error);\n      throw error;\n    } finally {\n      commit('SET_LOADING', false);\n    }\n  },\n\n  async refreshToken({ commit, getters }) {\n    const refreshToken = getters.refreshToken || localStorage.getItem(REFRESH_STORAGE_KEY);\n    if (!refreshToken) {\n      throw new Error('缺少刷新令牌');\n    }\n    try {\n      const { token, refreshToken: newRefreshToken, expiresAt } =\n        await authAPI.refreshToken(refreshToken);\n      commit('SET_TOKENS', {\n        token,\n        refreshToken: newRefreshToken,\n        expiresAt\n      });\n      commit('SET_STATUS', 'authenticated');\n      return token;\n    } catch (error) {\n      commit('SET_STATUS', 'error');\n      commit('SET_ERROR', error);\n      throw error;\n    }\n  },\n\n  async logout({ commit, dispatch }) {\n    commit('SET_LOADING', true);\n    commit('SET_ERROR', null);\n    try {\n      await authAPI.logout();\n    } catch (error) {\n      console.warn('[auth] 退出登录接口调用失败:', error);\n    } finally {\n      commit('RESET_AUTH');\n      dispatch('user/clearProfile', null, { root: true });\n      commit('SET_LOADING', false);\n    }\n  },\n\n  async forceLogout({ commit, dispatch }) {\n    commit('RESET_AUTH');\n    dispatch('user/clearProfile', null, { root: true });\n  },\n\n  updateUser({ commit }, user) {\n    commit('SET_USER', user);\n  },\n\n  syncTokens({ commit }, payload) {\n    if (!payload) {\n      commit('RESET_AUTH');\n      return;\n    }\n    commit('SET_TOKENS', payload);\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}