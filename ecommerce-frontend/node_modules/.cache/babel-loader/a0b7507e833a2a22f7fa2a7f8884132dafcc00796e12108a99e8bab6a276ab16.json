{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.some.js\";\nimport { computed, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { Grid, Histogram, User, Menu as MenuIcon } from '@element-plus/icons-vue';\nexport default {\n  __name: 'AppSidebar',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const router = useRouter();\n    const route = useRoute();\n    const store = useStore();\n    const hover = ref(false);\n    const isExpanded = computed(() => hover.value);\n    function setHover(value) {\n      hover.value = value;\n    }\n    const navMenus = [{\n      name: 'Dashboard',\n      label: '仪表盘总览',\n      icon: Histogram,\n      roles: ['admin', 'operator', 'merchant']\n    }, {\n      name: 'Profile',\n      label: '个人中心',\n      icon: User\n    }, {\n      name: 'Navigation',\n      label: '系统导航',\n      icon: MenuIcon\n    }];\n    const userRoles = computed(() => store.getters['auth/currentUser']?.roles || []);\n    const visibleMenus = computed(() => navMenus.filter(item => {\n      if (!item.roles?.length) return true;\n      return item.roles.some(role => userRoles.value.includes(role));\n    }));\n    const activeRoute = computed(() => route.name);\n    function navigate(item) {\n      router.push({\n        name: item.name\n      }).catch(() => {});\n    }\n    const __returned__ = {\n      router,\n      route,\n      store,\n      hover,\n      isExpanded,\n      setHover,\n      navMenus,\n      userRoles,\n      visibleMenus,\n      activeRoute,\n      navigate,\n      computed,\n      ref,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useStore() {\n        return useStore;\n      },\n      get Grid() {\n        return Grid;\n      },\n      get Histogram() {\n        return Histogram;\n      },\n      get User() {\n        return User;\n      },\n      get MenuIcon() {\n        return MenuIcon;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","ref","useRoute","useRouter","useStore","Grid","Histogram","User","Menu","MenuIcon","router","route","store","hover","isExpanded","value","setHover","navMenus","name","label","icon","roles","userRoles","getters","visibleMenus","filter","item","length","some","role","includes","activeRoute","navigate","push","catch"],"sources":["C:/Users/Administrator/Desktop/zonshe/ecommerce-frontend/src/components/layout/AppSidebar.vue"],"sourcesContent":["<template>\n  <aside\n    :class=\"['app-sidebar', { 'is-expanded': isExpanded }]\"\n    @mouseenter=\"setHover(true)\"\n    @mouseleave=\"setHover(false)\"\n  >\n    <div class=\"sidebar-content\">\n      <div class=\"sidebar-brand\">\n      <el-icon><Grid /></el-icon>\n      <span v-if=\"isExpanded\">管理菜单</span>\n    </div>\n\n    <el-menu\n      :default-active=\"activeRoute\"\n      class=\"sidebar-menu\"\n      background-color=\"transparent\"\n      text-color=\"#6b7280\"\n      active-text-color=\"#2563eb\"\n    >\n      <el-menu-item\n        v-for=\"item in visibleMenus\"\n        :key=\"item.name\"\n        :index=\"item.name\"\n        @click=\"() => navigate(item)\"\n      >\n        <el-icon v-if=\"item.icon\"><component :is=\"item.icon\" /></el-icon>\n        <span>{{ item.label }}</span>\n      </el-menu-item>\n    </el-menu>\n    </div>\n  </aside>\n</template>\n\n<script setup>\nimport { computed, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { Grid, Histogram, User, Menu as MenuIcon } from '@element-plus/icons-vue';\n\nconst router = useRouter();\nconst route = useRoute();\nconst store = useStore();\nconst hover = ref(false);\nconst isExpanded = computed(() => hover.value);\n\nfunction setHover(value) {\n  hover.value = value;\n}\n\nconst navMenus = [\n  {\n    name: 'Dashboard',\n    label: '仪表盘总览',\n    icon: Histogram,\n    roles: ['admin', 'operator', 'merchant']\n  },\n  {\n    name: 'Profile',\n    label: '个人中心',\n    icon: User\n  },\n  {\n    name: 'Navigation',\n    label: '系统导航',\n    icon: MenuIcon\n  }\n];\n\nconst userRoles = computed(() => store.getters['auth/currentUser']?.roles || []);\n\nconst visibleMenus = computed(() =>\n  navMenus.filter((item) => {\n    if (!item.roles?.length) return true;\n    return item.roles.some((role) => userRoles.value.includes(role));\n  })\n);\n\nconst activeRoute = computed(() => route.name);\n\nfunction navigate(item) {\n  router.push({ name: item.name }).catch(() => {});\n}\n</script>\n\n<style scoped>\n.app-sidebar {\n  position: fixed;\n  top: 70px;\n  left: 0;\n  height: calc(100vh - 70px);\n  width: 12px;\n  z-index: 900;\n  pointer-events: auto;\n}\n\n.app-sidebar::before {\n  content: '';\n  width: 12px;\n  background: linear-gradient(180deg, rgba(79, 70, 229, 0.9), rgba(59, 130, 246, 0.95));\n  border-radius: 0 6px 6px 0;\n  box-shadow: 4px 0 14px rgba(59, 130, 246, 0.35);\n  cursor: pointer;\n}\n\n.sidebar-content {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: calc(100vh - 70px);\n  width: 240px;\n  background: rgba(15, 23, 42, 0.94);\n  backdrop-filter: blur(10px);\n  border-right: 1px solid rgba(255, 255, 255, 0.08);\n  padding: 18px 14px;\n  display: flex;\n  flex-direction: column;\n  gap: 14px;\n  transform: translateX(-105%);\n  transition: transform 0.3s ease;\n  box-shadow: 12px 0 30px rgba(15, 23, 42, 0.45);\n  pointer-events: auto;\n}\n\n.app-sidebar.is-expanded .sidebar-content {\n  transform: translateX(0);\n}\n\n.sidebar-brand {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-weight: 600;\n  color: #fff;\n  padding: 0 8px;\n}\n\n.sidebar-menu {\n  border-right: none;\n}\n\n.sidebar-menu :deep(.el-menu-item) {\n  border-radius: 10px;\n  margin-bottom: 8px;\n  color: rgba(255, 255, 255, 0.7);\n}\n\n.sidebar-menu :deep(.el-menu-item.is-active) {\n  background: rgba(255, 255, 255, 0.18);\n  font-weight: 600;\n  color: #fff;\n}\n\n.app-sidebar::after {\n  content: '';\n  position: absolute;\n  inset: 0;\n  pointer-events: none;\n  border-radius: 0 20px 20px 0;\n  box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.05);\n}\n\n@media (max-width: 1024px) {\n  .app-sidebar {\n    display: none;\n  }\n}\n</style>\n\n"],"mappings":";;;AAkCA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,SAASC,QAAQ,EAAEC,SAAS,QAAQ,YAAY;AAChD,SAASC,QAAQ,QAAQ,MAAM;AAC/B,SAASC,IAAI,EAAEC,SAAS,EAAEC,IAAI,EAAEC,IAAI,IAAIC,QAAQ,QAAQ,yBAAyB;;;;;;;IAEjF,MAAMC,MAAM,GAAGP,SAAS,CAAC,CAAC;IAC1B,MAAMQ,KAAK,GAAGT,QAAQ,CAAC,CAAC;IACxB,MAAMU,KAAK,GAAGR,QAAQ,CAAC,CAAC;IACxB,MAAMS,KAAK,GAAGZ,GAAG,CAAC,KAAK,CAAC;IACxB,MAAMa,UAAU,GAAGd,QAAQ,CAAC,MAAMa,KAAK,CAACE,KAAK,CAAC;IAE9C,SAASC,QAAQA,CAACD,KAAK,EAAE;MACvBF,KAAK,CAACE,KAAK,GAAGA,KAAK;IACrB;IAEA,MAAME,QAAQ,GAAG,CACf;MACEC,IAAI,EAAE,WAAW;MACjBC,KAAK,EAAE,OAAO;MACdC,IAAI,EAAEd,SAAS;MACfe,KAAK,EAAE,CAAC,OAAO,EAAE,UAAU,EAAE,UAAU;IACzC,CAAC,EACD;MACEH,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,MAAM;MACbC,IAAI,EAAEb;IACR,CAAC,EACD;MACEW,IAAI,EAAE,YAAY;MAClBC,KAAK,EAAE,MAAM;MACbC,IAAI,EAAEX;IACR,EACD;IAED,MAAMa,SAAS,GAAGtB,QAAQ,CAAC,MAAMY,KAAK,CAACW,OAAO,CAAC,kBAAkB,CAAC,EAAEF,KAAK,IAAI,EAAE,CAAC;IAEhF,MAAMG,YAAY,GAAGxB,QAAQ,CAAC,MAC5BiB,QAAQ,CAACQ,MAAM,CAAEC,IAAI,IAAK;MACxB,IAAI,CAACA,IAAI,CAACL,KAAK,EAAEM,MAAM,EAAE,OAAO,IAAI;MACpC,OAAOD,IAAI,CAACL,KAAK,CAACO,IAAI,CAAEC,IAAI,IAAKP,SAAS,CAACP,KAAK,CAACe,QAAQ,CAACD,IAAI,CAAC,CAAC;IAClE,CAAC,CACH,CAAC;IAED,MAAME,WAAW,GAAG/B,QAAQ,CAAC,MAAMW,KAAK,CAACO,IAAI,CAAC;IAE9C,SAASc,QAAQA,CAACN,IAAI,EAAE;MACtBhB,MAAM,CAACuB,IAAI,CAAC;QAAEf,IAAI,EAAEQ,IAAI,CAACR;MAAK,CAAC,CAAC,CAACgB,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;IAClD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}